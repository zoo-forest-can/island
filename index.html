<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è·¯å¦ç¾… â€” éŠæˆ²å¹³å°</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg:      #080c1a;
      --surface: #0f1528;
      --card:    #141b2e;
      --border:  rgba(255,255,255,0.07);
      --orange:  #FF8C2A;
      --text:    #eef1f8;
      --muted:   #6a7a9a;
    }
    *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
    html { scroll-behavior:smooth; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Noto Sans TC', sans-serif;
      overflow-x: hidden;
      min-height: 100vh;
    }

    /* atmospheric glow */
    body::before {
      content:''; position:fixed; inset:0; z-index:0; pointer-events:none;
      background:
        radial-gradient(ellipse 70% 55% at 10% 85%, rgba(74,143,255,0.07) 0%, transparent 70%),
        radial-gradient(ellipse 55% 40% at 90% 10%, rgba(255,140,42,0.06) 0%, transparent 60%);
    }

    /* â”€â”€ NAV â”€â”€ */
    nav {
      position:sticky; top:0; z-index:200;
      height:60px;
      background:rgba(8,12,26,0.90);
      backdrop-filter:blur(16px);
      border-bottom:1px solid var(--border);
      display:flex; align-items:center; justify-content:space-between;
      padding:0 36px;
    }
    .nav-brand { font-size:20px; font-weight:900; letter-spacing:4px; color:var(--orange); }
    .nav-links { display:flex; gap:28px; list-style:none; }
    .nav-links a {
      color:var(--muted); text-decoration:none;
      font-size:13px; font-weight:700; letter-spacing:1px;
      transition:color .2s;
    }
    .nav-links a:hover { color:var(--text); }

    /* â”€â”€ HERO â”€â”€ */
    .hero {
      position:relative; z-index:1;
      text-align:center; padding:90px 24px 72px;
    }
    .hero-title {
      font-size:clamp(52px,10vw,96px); font-weight:900; letter-spacing:14px;
      background:linear-gradient(150deg,#FFD166 0%,#FF8C2A 45%,#FF5500 100%);
      -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
      line-height:1.1; margin-bottom:20px;
    }
    .hero-sub {
      font-size:14px; color:var(--muted); letter-spacing:5px; font-weight:500;
    }

    /* â”€â”€ SHARED â”€â”€ */
    .wrap {
      position:relative; z-index:1;
      max-width:1080px; margin:0 auto; padding:64px 24px;
    }
    .sep { height:1px; background:var(--border); max-width:1080px; margin:0 auto; }
    .sec-title {
      text-align:center; font-size:22px; font-weight:900;
      letter-spacing:5px; margin-bottom:40px;
    }
    .sec-title em { color:var(--orange); font-style:normal; }

    /* â”€â”€ GAMES â”€â”€ */
    .game-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:24px; }
    .game-card {
      background:var(--card);
      border-radius:20px; overflow:hidden;
      border:1px solid var(--border);
      text-decoration:none; display:block;
      transition: transform .3s cubic-bezier(.34,1.56,.64,1),
                  box-shadow .3s ease;
    }
    .game-card:hover {
      transform:translateY(-10px) scale(1.02);
      box-shadow:0 28px 52px rgba(0,0,0,.7);
    }
    .game-cover { width:100%; aspect-ratio:1; object-fit:cover; display:block; }
    .game-body { padding:22px 24px 26px; }
    .game-name { font-size:20px; font-weight:900; letter-spacing:1px; margin-bottom:8px; }
    .game-desc { font-size:13px; color:var(--muted); line-height:1.75; margin-bottom:18px; }
    .btn-go {
      display:inline-block; background:var(--orange);
      color:#000; font-weight:900; font-size:13px; letter-spacing:2px;
      padding:10px 28px; border-radius:100px; font-family:inherit;
      transition:opacity .2s, transform .15s;
    }
    .btn-go:hover { opacity:.88; transform:scale(1.05); }

    /* â”€â”€ LEADERBOARD â”€â”€ */
    .lb-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:24px; }
    .lb-panel {
      background:var(--card); border:1px solid var(--border);
      border-radius:20px; padding:28px 24px;
    }
    .lb-panel-title {
      font-size:15px; font-weight:900; letter-spacing:1px;
      margin-bottom:20px; display:flex; align-items:center; gap:8px;
    }
    table { width:100%; border-collapse:collapse; }
    th {
      font-size:11px; color:var(--muted); font-weight:700;
      padding:6px 10px; border-bottom:1px solid var(--border);
      letter-spacing:1.5px; text-align:left;
    }
    td {
      padding:11px 10px; font-size:13px;
      border-bottom:1px solid rgba(255,255,255,0.04);
    }
    .td-rank { color:var(--muted); font-weight:700; width:36px; }
    .td-name { color:var(--text); }
    .td-score { color:var(--orange); font-weight:900; text-align:right; }
    .td-date  { color:var(--muted); font-size:11px; text-align:right; }
    .lb-empty { text-align:center; color:var(--muted); padding:36px 0; font-size:13px; }
    .lb-actions { text-align:center; margin-top:40px; }
    .btn-reset {
      background:transparent; border:1px solid var(--border);
      color:var(--muted); font-size:13px; padding:9px 28px;
      border-radius:100px; cursor:pointer; font-family:inherit;
      transition:border-color .2s, color .2s;
    }
    .btn-reset:hover { border-color:rgba(255,255,255,.28); color:var(--text); }

    /* â”€â”€ FOOTER â”€â”€ */
    footer {
      position:relative; z-index:1;
      text-align:center; padding:44px 24px;
      color:var(--muted); font-size:13px;
      border-top:1px solid var(--border);
    }

    /* â”€â”€ RESPONSIVE â”€â”€ */
    @media (max-width:860px) {
      .game-grid { grid-template-columns:1fr; max-width:480px; margin:0 auto; }
    }
    @media (max-width:560px) {
      .game-grid, .lb-grid { grid-template-columns:1fr; }
      nav { padding:0 20px; }
      .nav-links { display:none; }
      .hero { padding:60px 20px 52px; }
    }
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="nav-brand">è·¯å¦ç¾…</div>
  <ul class="nav-links">
    <li><a href="#games">éŠæˆ²å¤§å»³</a></li>
    <li><a href="#lb">æ’è¡Œæ¦œ</a></li>
  </ul>
</nav>

<!-- HERO -->
<div class="hero">
  <h1 class="hero-title">è·¯å¦ç¾…</h1>
  <p class="hero-sub">æŒ‘æˆ°æœ€é«˜åˆ† Â· ç™»ä¸Šæ’è¡Œæ¦œ Â· åäºŒç”Ÿè‚–æ±ºæˆ°</p>
</div>

<!-- GAMES -->
<section id="games" class="wrap">
  <h2 class="sec-title">éŠæˆ² <em>å¤§å»³</em></h2>
  <div class="game-grid">

    <a href="games/amhz.html" class="game-card">
      <img src="images/mix.png" alt="å‹•ç‰©åˆç›’æ¨‚" class="game-cover">
      <div class="game-body">
        <div class="game-name">å‹•ç‰©åˆç›’æ¨‚</div>
        <div class="game-desc">ç–Šç–Šåˆé«”çš„ç”Ÿè‚–å°éŠæˆ²ï¼æŠŠå‹•ç‰©å¾€ä¸‹ä¸Ÿï¼Œè®“ç›¸åŒç”Ÿè‚–åˆé«”é€²åŒ–ï¼Œå †è¶Šé«˜åˆ†æ•¸è¶Šé«˜ï½</div>
        <span class="btn-go">ç«‹åˆ»æŒ‘æˆ° â–¶</span>
      </div>
    </a>

    <a href="games/bb.html" class="game-card">
      <img src="images/homerun.png" alt="å‹•ç‰©è½Ÿä¸è®“" class="game-cover">
      <div class="game-body">
        <div class="game-name">å‹•ç‰©è½Ÿä¸è®“</div>
        <div class="game-desc">ç”Ÿè‚–æ£’çƒå…¨å£˜æ‰“æŒ‘æˆ°ï¼é¸ä½ çš„ç”Ÿè‚–é¸æ‰‹ï¼ŒçŒ›æ‰“å…¨å£˜æ‰“ï¼Œ5å›åˆæ±ºä¸€å‹è² ï¼</div>
        <span class="btn-go">ç«‹åˆ»æŒ‘æˆ° â–¶</span>
      </div>
    </a>

  </div>
</section>

<div class="sep"></div>

<!-- LEADERBOARD -->
<section id="lb" class="wrap">
  <h2 class="sec-title">ğŸ† é«˜æ‰‹ <em>æ’è¡Œæ¦œ</em></h2>
  <div class="lb-grid">

    <div class="lb-panel">
      <div class="lb-panel-title">ğŸ¯ å‹•ç‰©åˆç›’æ¨‚</div>
      <table>
        <thead><tr>
          <th>åæ¬¡</th><th>ç©å®¶</th>
          <th style="text-align:right">åˆ†æ•¸</th>
          <th style="text-align:right">æ—¥æœŸ</th>
        </tr></thead>
        <tbody id="leaderboard-amhz-body"></tbody>
      </table>
      <div id="leaderboard-amhz-empty" class="lb-empty" style="display:none">é‚„æ²’æœ‰é«˜æ‰‹è¨˜éŒ„ï¼Œå¿«å»æŒ‘æˆ°å§ï¼ğŸ®</div>
    </div>

    <div class="lb-panel">
      <div class="lb-panel-title">âš¾ å‹•ç‰©è½Ÿä¸è®“</div>
      <table>
        <thead><tr>
          <th>åæ¬¡</th><th>ç©å®¶</th>
          <th style="text-align:right">åˆ†æ•¸</th>
          <th style="text-align:right">æ—¥æœŸ</th>
        </tr></thead>
        <tbody id="leaderboard-bb-body"></tbody>
      </table>
      <div id="leaderboard-bb-empty" class="lb-empty" style="display:none">é‚„æ²’æœ‰é«˜æ‰‹è¨˜éŒ„ï¼Œå¿«å»æŒ‘æˆ°å§ï¼ğŸ®</div>
    </div>

  </div>
  <div class="lb-actions">
    <button class="btn-reset" onclick="resetLeaderboards()">é‡ç½®æ’è¡Œæ¦œ</button>
  </div>
</section>

<footer>Â© 2026 è·¯å¦ç¾… Â· å¿«æ¨‚éŠç©ï¼Œæ°¸é ç¬¬ä¸€ï¼</footer>

<script>
  const FB_URL = 'https://zoo-forest-7132c-default-rtdb.asia-southeast1.firebasedatabase.app';
  const MEDALS = ['ğŸ¥‡','ğŸ¥ˆ','ğŸ¥‰'];

  function fmtDate(d) {
    if (!d) return 'â€”';
    const dt = new Date(d);
    if (isNaN(dt.getTime())) return d;
    return String(dt.getMonth()+1).padStart(2,'0') + '/' +
           String(dt.getDate()).padStart(2,'0');
  }

  async function fetchFirebaseLb(path) {
    try {
      const res  = await fetch(`${FB_URL}/${path}.json`);
      const data = await res.json();
      if (!data) return [];
      return Object.values(data)
        .filter(e => e && e.score != null)
        .sort((a, b) => b.score - a.score)
        .slice(0, 10);
    } catch {
      const key = path === 'lb_amhz' ? 'platform_amhz_lb' : 'platform_bb_lb';
      try { return JSON.parse(localStorage.getItem(key) || '[]'); } catch { return []; }
    }
  }

  function renderLb(data, tbodyId, emptyId) {
    const tbody = document.getElementById(tbodyId);
    const empty = document.getElementById(emptyId);
    if (!data.length) {
      tbody.innerHTML = '';
      if (empty) empty.style.display = '';
      return;
    }
    if (empty) empty.style.display = 'none';
    tbody.innerHTML = data.map((e, i) => {
      const medal = MEDALS[i] || (i+1)+'.';
      return `<tr>
        <td class="td-rank">${medal}</td>
        <td class="td-name">${e.name || 'åŒ¿åç©å®¶'}</td>
        <td class="td-score">${e.score ?? e.s ?? 'â€”'}</td>
        <td class="td-date">${fmtDate(e.date || e.d)}</td>
      </tr>`;
    }).join('');
  }

  async function loadAll() {
    const [amhz, bb] = await Promise.all([
      fetchFirebaseLb('lb_amhz'), fetchFirebaseLb('lb_bb')
    ]);
    renderLb(amhz, 'leaderboard-amhz-body', 'leaderboard-amhz-empty');
    renderLb(bb,   'leaderboard-bb-body',   'leaderboard-bb-empty');
  }

  async function resetLeaderboards() {
    if (!confirm('ç¢ºå®šè¦é‡ç½®æ‰€æœ‰æ’è¡Œæ¦œç´€éŒ„ï¼Ÿï¼ˆåŒ…å«é›²ç«¯è³‡æ–™ï¼‰')) return;
    await Promise.all([
      fetch(`${FB_URL}/lb_amhz.json`, { method: 'DELETE' }).catch(()=>{}),
      fetch(`${FB_URL}/lb_bb.json`,   { method: 'DELETE' }).catch(()=>{}),
    ]);
    localStorage.removeItem('platform_amhz_lb');
    localStorage.removeItem('platform_bb_lb');
    loadAll();
  }

  document.addEventListener('DOMContentLoaded', function() {
    loadAll();
    setInterval(loadAll, 10000);
  });
</script>
</body>
</html>
